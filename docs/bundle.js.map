{"version":3,"file":"bundle.js","sources":["../src/invader.js","../src/defender.js","../src/game.js","../src/main.js"],"sourcesContent":["export default class Invader {\n    constructor(x, y, mediator) {\n        this.x = x;\n        this.y = y;\n        this.mediator = mediator;\n    }\n\n    update(ctx) {\n        ctx.fillStyle = 'purple';\n        ctx.fillRect(this.x, this.y, 10, 10);\n        this.x += 5 * this.mediator.invaderDirection;\n        this.y += 5;\n        if (this.x >= ctx.canvas.width || this.x < 0) {\n            this.x += 5 * this.mediator.invaderDirection * -1;\n            this.mediator.invaderDirection *= -1;\n        }\n\n        this.x %= ctx.canvas.width;\n        this.y %= (ctx.canvas.height - 100); // Can only get so close to bottom\n    }\n}\n","export default class Defender {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.delta = {\n            \"ArrowRight\": 1,\n            \"ArrowLeft\": -1\n        };\n\n        // TODO(MGP): Learn better way to handle keys.  Per object seems bad.\n        document.addEventListener(\"keydown\", e => this.keyDownHandler(e));\n        // Maybe, I should have inlined here ^^ but I keep this as a reminder\n        // about class methods, and the whole => thing.... which I want to learn more about.\n    }\n\n    keyDownHandler(e) {\n        if (e.key in this.delta) {\n            this.x += this.delta[e.key];\n        }\n    }\n\n    update(ctx) {\n        this.x %= ctx.canvas.width;\n        ctx.fillStyle = 'blue';\n        ctx.fillRect(this.x, this.y, 10, 10);\n    }\n\n}\n","import Invader from './invader';\nimport Defender from './defender';\n\nexport default class Game {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this.ctx = canvas.getContext('2d');\n        this.width = canvas.width;\n        this.height = canvas.height;\n        this.invaderDirection = 1; // TODO(MGP): Smells like a global!  fix!?\n        this.things = [\n            new Defender(0, this.height - 20)\n        ];\n        const numCols = 15;\n        const invaderWidth = this.width / numCols - 3;\n        const rowGap = 15;\n        for (let row = 0; row < 3; row++) {\n            for (let col = 0; col < numCols; col++) {\n                this.things.push(new Invader(col * invaderWidth, row * 10 + row * rowGap, this));\n            }\n        }\n\n    }\n\n    updateGame(ctx, width, height) {\n        ctx.fillStyle = 'black';\n        ctx.fillRect(0, 0, width, height);\n        this.things.forEach(t => t.update(ctx));\n    }\n\n    tick() {\n        setInterval(() => {\n            this.updateGame(this.ctx, this.width, this.height);\n        }, 200);\n    }\n}\n\n","import Game from './game';\n\n\n// even though Rollup is bundling all your files together, errors and\n// logs will still point to your original source modules\nconsole.log('if you have sourcemaps enabled in your devtools, click on main.js:5 -->');\n\nconst canvas = document.querySelector(`#canvas`);\nconst game = new Game(canvas);\ngame.tick();\n\n\n"],"names":[],"mappings":"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"}